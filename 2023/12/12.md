
## 取り組んだ課題   
 REST API動画視聴   
## わかったこと   
ロイフィールディング(Roy Fielding)が提唱したアーキテクチャ

* クライアント・サーバー
  画面(UI)とデータで関心事を分離する
  基本的にクライアント側がトリガー、サーバー側は受け身
  →昨今ではサーバー側からアクションを起こす場合もある

* 階層化システム
  Webサーバ、DBサーバー、APサーバーなど階層を分けて機能を分離する
  * メリット
    各システムを独立させて、再利用可能にする
  * デメリット
    データの処理にオーバーヘッドが発生
    →各サーバーとのやりとりが発生するため
* コードオンデマンド
  クライアントコードをダウンロードして実行できる
  リリース後にクライアントコードを変更できる
  リリース済みのクライアントに対して機能追加できる
  サーバーの負荷が下がる(クライアントに実装を寄せるためサーバー負荷が下がる)

　デメリット
　評価環境が複雑になる
* 統一インターフェース　あまり理解できてない→復讐する必要あり
  4つの制約で成り立つ
  * リソース識別できるよう定義する
    リソース: ここで指しているリソースは、名前がつけられるあらゆるもの →ドキュメント、画像、人、情報、サービス、状態、また抽象的な定義も含める(4月1の天気, 最新)
    サーバー側に保持されるデータ
    URIを用いてサーバーに保存されたデータを識別する
    リソースでパスを作成する→動作名でパスは作成されない

  * 表現を用いたリソース操作
    リソースのある断面
    クライアントへ返されるレスポンス、サーバーへPOSTするデータ    
    クライアントからホストへリクエストする際のある断面を
    表現とする。Authorization などのメタデータも表現を用いたリソース操作にあたる
  * 自己記述メッセージ
    自己記述: データ自身がデータの中身を説明している
    メッセージ: サーバーへリクエストするデータ、クライアントへレスポンスするデータのこと
    →メッセージ内容が何であるか、ヘッダーに記述されている
    レスポンスに含まれるメタ情報(ヘッダー情報)で内容がどのようなものかわかる
    例) Content-Type: text/plain; charset=utf-8
  * アプリケーション状態エンジンとしてのハイパーメディア(HATEOAS(ハテオス))
  Hypermedia as the Engine of Application State
    * レスポンスに現在の状態を踏まえて関連するハイパーリンクが含まれている。
    →検索結果ページにおける「次のページ」
　　　最近のWebAPIではあまりない
  * 統一インターフェースに基づいて実装するメリット
    * システムアーキテクチャ全体が簡素化されてわかりやすくなる
    * 提供するサービスに集中でき、独自の進化ができる
    疎結合な状態を維持しやすい
    システムや要素感の相互依存度が低い状態を指す
    これは１つの要素が変更され多彩に、他の要素に及ぼす影響が少ない、またほとんど影響を及ぼさないことを指す。
  　システム内の要素同士が独立しており、変更が起きても他の要素に影響を与えず、安定性や保守性が高い状態を指す
   * 異なるブラウザでも同じような画面を表示できる
  * デメリット
    * 標準化によって効率が犠牲になる
  
  * ステートレス
    * サーバーはリクエストだけでコンテキストはを理解できる
    * サーバーに保存されたコンテキスト情報は使わない(サーバーセッションは使わない)
    * 状態はクライアント上に保存される(リクエストに全て含める)

    * メリット
      * 単一のリクエスト以外見る必要がないので、監視が容易
      * 障害発生したリクエストだけが回復すれば良いので、障害復旧が容易
      * リクエスト全体でサーバーリソースを共有する必要がないのでスケールが容易
    * デメリット
      * 単一のリクエストで完結させるため、リクエストデータに重複が発生する
      * アプリを複数バージョン同時提供し、状態をクライアントに置いておくとアプリ制御が複雑になる
  * キャッシュ制御
    * クライアントはレスポンスをキャッシュできる
      →レスポンスは明示的、暗黙的にキャッシュ可能
    * キャッシュを適切に行うことでクライアント・サーバー間の通信が排除され、
    ユーザ体験の工場、リソース効率の向上、拡張性の向上が見込める
    →キャッシュを適切に行うことで、必要な情報だけリクエスト剃れば良くなる
    * メリット
      * ユーザ体験の向上
      * リソース効率の向上
      * 拡張性の向上
    * デメリット
      * 古いデータを戻すと、システムに対する信頼性の低下に繋がる


### REST API成熟度モデル
→Martin Fowler 2010に発表したRichardson Maturity Model
[Richardson Maturity Model](https://martinfowler.com/articles/richardsonMaturityModel.html)
REST API 設計モデル
→設計レベルは4段階
どれだけRESTAPI設計に則った設計になっているか
0 ~ 3で示す

* level 0
  HTTPを利用している
  REST API の基本レベル
  RPC(Remote Procedure Call)
  →ネットワーク越しに別のコンピュータ上のプログラムを実行する仕組み
  リクエストボディーに処理と引数が含まれる
* level 1
  リソースの概念を導入
  リソースごとにURLを分離
* level 2
  HTTPの動詞を導入
* level 3
  HATEOASの概念を導入


## 次にやること   
 REST API 動画視聴   
 データモデリング課題修正
## 感じたこと   
 成熟度モデルというものに触れたがまだ理解には程遠い...
## 学習時間   
 today:1.0h      
 total:239.0h      